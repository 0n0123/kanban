# Kanban

## 概要

タスクかんばんWebアプリケーションです。できるだけアナログに近い使用感を目指しています。

- 遠隔地にいるメンバーともタスクを共有したい
- ホワイトボードが遠くて見に行くのが面倒
- 諸事情でアナログのかんばんを設置できない

などの悩みを解決します。

## 導入手順

### 必要なもの

サーバ用PC(Windows)

### サーバ立ち上げ手順

準備したサーバ用PCで以下を行ってください。

1. Node.jsをインストールする
2. パッケージ内にある<code>config.json</code>を適宜修正する

    ```jsonc
    {
        "port": 3000,                   // アプリケーションで使用するポート番号(他のアプリケーションを起動している場合は重複しないように変更する)
        "backup": {
            "dest.dir": "",             // データバックアップ先フォルダーのパス
            "interval.minutes": 30      // バックアップ間隔(分)
        }
    }
    ```
    
3. ファイアウォール設定で使用する番号のポートを開放する
4. パッケージ内にある `InstallService.bat` を管理者権限で実行する

### 注意事項

**データの保存形式**

すべての内容はSQLiteデータベースで保存します。
付箋は作成時にユニークなIDが割り当てられ、管理されます。

### アンインストール

1. サービスの一覧から Kanban サービスを停止する
2. `UninstallService.bat` を管理者権限で実行する

## マイグレーション

1. 旧環境から `config.json` と `database` フォルダーを退避する
2. 新環境にパッケージを展開し、退避したファイルとフォルダーを上書きする

### From 2.x to 3.x

上記手順に加え、以下のコマンドを実行する。

```
node convert.mjs
```
